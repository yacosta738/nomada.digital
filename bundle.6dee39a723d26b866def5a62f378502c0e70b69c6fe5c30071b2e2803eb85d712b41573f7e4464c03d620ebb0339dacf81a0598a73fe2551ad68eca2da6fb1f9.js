var bt=Object.create,qe=Object.defineProperty,_t=Object.getPrototypeOf,Et=Object.prototype.hasOwnProperty,wt=Object.getOwnPropertyNames,St=Object.getOwnPropertyDescriptor;var Ot=r=>qe(r,"__esModule",{value:!0});var Ue=(r,t)=>()=>(t||(t={exports:{}},r(t.exports,t)),t.exports);var Lt=(r,t,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of wt(t))!Et.call(r,o)&&o!=="default"&&qe(r,o,{get:()=>t[o],enumerable:!(s=St(t,o))||s.enumerable});return r},He=r=>r&&r.__esModule?r:Lt(Ot(qe(r!=null?bt(_t(r)):{},"default",{value:r,enumerable:!0})),r);var nt=Ue((At,Ne)=>{(function(r,t){var s=t(r,r.document,Date);r.lazySizes=s,typeof Ne=="object"&&Ne.exports&&(Ne.exports=s)})(typeof window!="undefined"?window:{},function(t,s,o){"use strict";var l,u;if(function(){var v,g={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};u=t.lazySizesConfig||t.lazysizesConfig||{};for(v in g)v in u||(u[v]=g[v])}(),!s||!s.getElementsByClassName)return{init:function(){},cfg:u,noSupport:!0};var h=s.documentElement,y=t.HTMLPictureElement,E="addEventListener",m="getAttribute",w=t[E].bind(t),I=t.setTimeout,S=t.requestAnimationFrame||I,C=t.requestIdleCallback,k=/^picture$/i,N=["load","error","lazyincluded","_lazyloaded"],L={},R=Array.prototype.forEach,q=function(v,g){return L[g]||(L[g]=new RegExp("(\\s|^)"+g+"(\\s|$)")),L[g].test(v[m]("class")||"")&&L[g]},B=function(v,g){q(v,g)||v.setAttribute("class",(v[m]("class")||"").trim()+" "+g)},G=function(v,g){var P;(P=q(v,g))&&v.setAttribute("class",(v[m]("class")||"").replace(P," "))},U=function(v,g,P){var z=P?E:"removeEventListener";P&&U(v,g),N.forEach(function(b){v[z](b,g)})},ne=function(v,g,P,z,b){var O=s.createEvent("Event");return P||(P={}),P.instance=l,O.initEvent(g,!z,!b),O.detail=P,v.dispatchEvent(O),O},ae=function(v,g){var P;!y&&(P=t.picturefill||u.pf)?(g&&g.src&&!v[m]("srcset")&&v.setAttribute("srcset",g.src),P({reevaluate:!0,elements:[v]})):g&&g.src&&(v.src=g.src)},oe=function(v,g){return(getComputedStyle(v,null)||{})[g]},fe=function(v,g,P){for(P=P||v.offsetWidth;P<u.minSize&&g&&!v._lazysizesWidth;)P=g.offsetWidth,g=g.parentNode;return P},Z=function(){var v,g,P=[],z=[],b=P,O=function(){var F=b;for(b=P.length?z:P,v=!0,g=!1;F.length;)F.shift()();v=!1},$=function(F,T){v&&!T?F.apply(this,arguments):(b.push(F),g||(g=!0,(s.hidden?I:S)(O)))};return $._lsFlush=O,$}(),de=function(v,g){return g?function(){Z(v)}:function(){var P=this,z=arguments;Z(function(){v.apply(P,z)})}},he=function(v){var g,P=0,z=u.throttleDelay,b=u.ricTimeout,O=function(){g=!1,P=o.now(),v()},$=C&&b>49?function(){C(O,{timeout:b}),b!==u.ricTimeout&&(b=u.ricTimeout)}:de(function(){I(O)},!0);return function(F){var T;(F=F===!0)&&(b=33),!g&&(g=!0,T=z-(o.now()-P),T<0&&(T=0),F||T<9?$():I($,T))}},ee=function(v){var g,P,z=99,b=function(){g=null,v()},O=function(){var $=o.now()-P;$<z?I(O,z-$):(C||b)(b)};return function(){P=o.now(),g||(g=I(O,z))}},pe=function(){var v,g,P,z,b,O,$,F,T,K,ie,ye,Pe=/^img$/i,Se=/^iframe$/i,ze="onscroll"in t&&!/(gle|ing)bot/.test(navigator.userAgent),Me=0,_e=0,le=0,be=-1,Re=function(x){le--,(!x||le<0||!x.target)&&(le=0)},Te=function(x){return ye==null&&(ye=oe(s.body,"visibility")=="hidden"),ye||!(oe(x.parentNode,"visibility")=="hidden"&&oe(x,"visibility")=="hidden")},Fe=function(x,A){var j,H=x,W=Te(x);for(F-=A,ie+=A,T-=A,K+=A;W&&(H=H.offsetParent)&&H!=s.body&&H!=h;)W=(oe(H,"opacity")||1)>0,W&&oe(H,"overflow")!="visible"&&(j=H.getBoundingClientRect(),W=K>j.left&&T<j.right&&ie>j.top-1&&F<j.bottom+1);return W},De=function(){var x,A,j,H,W,X,ce,ve,Y,se,me,xe,re=l.elements;if((z=u.loadMode)&&le<8&&(x=re.length)){for(A=0,be++;A<x;A++)if(!(!re[A]||re[A]._lazyRace)){if(!ze||l.prematureUnveil&&l.prematureUnveil(re[A])){Oe(re[A]);continue}if((!(ve=re[A][m]("data-expand"))||!(X=ve*1))&&(X=_e),se||(se=!u.expand||u.expand<1?h.clientHeight>500&&h.clientWidth>500?500:370:u.expand,l._defEx=se,me=se*u.expFactor,xe=u.hFac,ye=null,_e<me&&le<1&&be>2&&z>2&&!s.hidden?(_e=me,be=0):z>1&&be>1&&le<6?_e=se:_e=Me),Y!==X&&(O=innerWidth+X*xe,$=innerHeight+X,ce=X*-1,Y=X),j=re[A].getBoundingClientRect(),(ie=j.bottom)>=ce&&(F=j.top)<=$&&(K=j.right)>=ce*xe&&(T=j.left)<=O&&(ie||K||T||F)&&(u.loadHidden||Te(re[A]))&&(g&&le<3&&!ve&&(z<3||be<4)||Fe(re[A],X))){if(Oe(re[A]),W=!0,le>9)break}else!W&&g&&!H&&le<4&&be<4&&z>2&&(v[0]||u.preloadAfterLoad)&&(v[0]||!ve&&(ie||K||T||F||re[A][m](u.sizesAttr)!="auto"))&&(H=v[0]||re[A])}H&&!W&&Oe(H)}},te=he(De),Ae=function(x){var A=x.target;if(A._lazyCache){delete A._lazyCache;return}Re(x),B(A,u.loadedClass),G(A,u.loadingClass),U(A,$e),ne(A,"lazyloaded")},Be=de(Ae),$e=function(x){Be({target:x.target})},ke=function(x,A){var j=x.getAttribute("data-load-mode")||u.iframeLoadMode;j==0?x.contentWindow.location.replace(A):j==1&&(x.src=A)},Ie=function(x){var A,j=x[m](u.srcsetAttr);(A=u.customMedia[x[m]("data-media")||x[m]("media")])&&x.setAttribute("media",A),j&&x.setAttribute("srcset",j)},Qe=de(function(x,A,j,H,W){var X,ce,ve,Y,se,me;(se=ne(x,"lazybeforeunveil",A)).defaultPrevented||(H&&(j?B(x,u.autosizesClass):x.setAttribute("sizes",H)),ce=x[m](u.srcsetAttr),X=x[m](u.srcAttr),W&&(ve=x.parentNode,Y=ve&&k.test(ve.nodeName||"")),me=A.firesLoad||"src"in x&&(ce||X||Y),se={target:x},B(x,u.loadingClass),me&&(clearTimeout(P),P=I(Re,2500),U(x,$e,!0)),Y&&R.call(ve.getElementsByTagName("source"),Ie),ce?x.setAttribute("srcset",ce):X&&!Y&&(Se.test(x.nodeName)?ke(x,X):x.src=X),W&&(ce||Y)&&ae(x,{src:X})),x._lazyRace&&delete x._lazyRace,G(x,u.lazyClass),Z(function(){var xe=x.complete&&x.naturalWidth>1;(!me||xe)&&(xe&&B(x,u.fastLoadedClass),Ae(se),x._lazyCache=!0,I(function(){"_lazyCache"in x&&delete x._lazyCache},9)),x.loading=="lazy"&&le--},!0)}),Oe=function(x){if(!x._lazyRace){var A,j=Pe.test(x.nodeName),H=j&&(x[m](u.sizesAttr)||x[m]("sizes")),W=H=="auto";(W||!g)&&j&&(x[m]("src")||x.srcset)&&!x.complete&&!q(x,u.errorClass)&&q(x,u.lazyClass)||(A=ne(x,"lazyunveilread").detail,W&&J.updateElem(x,!0,x.offsetWidth),x._lazyRace=!0,le++,Qe(x,A,W,H,j))}},ge=ee(function(){u.loadMode=3,te()}),Ve=function(){u.loadMode==3&&(u.loadMode=2),ge()},Ee=function(){if(!g){if(o.now()-b<999){I(Ee,999);return}g=!0,u.loadMode=3,te(),w("scroll",Ve,!0)}};return{_:function(){b=o.now(),l.elements=s.getElementsByClassName(u.lazyClass),v=s.getElementsByClassName(u.lazyClass+" "+u.preloadClass),w("scroll",te,!0),w("resize",te,!0),w("pageshow",function(x){if(x.persisted){var A=s.querySelectorAll("."+u.loadingClass);A.length&&A.forEach&&S(function(){A.forEach(function(j){j.complete&&Oe(j)})})}}),t.MutationObserver?new MutationObserver(te).observe(h,{childList:!0,subtree:!0,attributes:!0}):(h[E]("DOMNodeInserted",te,!0),h[E]("DOMAttrModified",te,!0),setInterval(te,999)),w("hashchange",te,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(x){s[E](x,te,!0)}),/d$|^c/.test(s.readyState)?Ee():(w("load",Ee),s[E]("DOMContentLoaded",te),I(Ee,2e4)),l.elements.length?(De(),Z._lsFlush()):te()},checkElems:te,unveil:Oe,_aLSL:Ve}}(),J=function(){var v,g=de(function(O,$,F,T){var K,ie,ye;if(O._lazysizesWidth=T,T+="px",O.setAttribute("sizes",T),k.test($.nodeName||""))for(K=$.getElementsByTagName("source"),ie=0,ye=K.length;ie<ye;ie++)K[ie].setAttribute("sizes",T);F.detail.dataAttr||ae(O,F.detail)}),P=function(O,$,F){var T,K=O.parentNode;K&&(F=fe(O,K,F),T=ne(O,"lazybeforesizes",{width:F,dataAttr:!!$}),T.defaultPrevented||(F=T.detail.width,F&&F!==O._lazysizesWidth&&g(O,K,T,F)))},z=function(){var O,$=v.length;if($)for(O=0;O<$;O++)P(v[O])},b=ee(z);return{_:function(){v=s.getElementsByClassName(u.autosizesClass),w("resize",b)},checkElems:b,updateElem:P}}(),ue=function(){!ue.i&&s.getElementsByClassName&&(ue.i=!0,J._(),pe._())};return I(function(){u.init&&ue()}),l={cfg:u,autoSizer:J,loader:pe,init:ue,uP:ae,aC:B,rC:G,hC:q,fire:ne,gW:fe,rAF:Z},l})});var it=Ue((Ke,Ge)=>{(function(r,t){typeof Ke=="object"&&typeof Ge!="undefined"?Ge.exports=t():typeof define=="function"&&define.amd?define(t):(r=r||self,r.Alpine=t())})(Ke,function(){"use strict";function r(i,e,n){return e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function t(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);e&&(a=a.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),n.push.apply(n,a)}return n}function s(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t(Object(n),!0).forEach(function(a){r(i,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(n,a))})}return i}function o(){return new Promise(i=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",i):i()})}function l(i){return Array.from(new Set(i))}function u(){return navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")}function h(i,e){return i==e}function y(i,e){i.tagName.toLowerCase()!=="template"?console.warn(`Alpine: [${e}] directive should only be added to <template> tags. See https://github.com/alpinejs/alpine#${e}`):i.content.childElementCount!==1&&console.warn(`Alpine: <template> tag with [${e}] encountered with multiple element roots. Make sure <template> only has a single child element.`)}function E(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function m(i){return i.toLowerCase().replace(/-(\w)/g,(e,n)=>n.toUpperCase())}function w(i,e){if(e(i)===!1)return;let n=i.firstElementChild;for(;n;)w(n,e),n=n.nextElementSibling}function I(i,e){var n;return function(){var a=this,c=arguments,f=function(){n=null,i.apply(a,c)};clearTimeout(n),n=setTimeout(f,e)}}function S(i,e,n={}){return typeof i=="function"?i.call(e):new Function(["$data",...Object.keys(n)],`var __alpine_result; with($data) { __alpine_result = ${i} }; return __alpine_result`)(e,...Object.values(n))}function C(i,e,n={}){if(typeof i=="function")return Promise.resolve(i.call(e,n.$event));let a=Function;if(a=Object.getPrototypeOf(async function(){}).constructor,Object.keys(e).includes(i)){let c=new Function(["dataContext",...Object.keys(n)],`with(dataContext) { return ${i} }`)(e,...Object.values(n));return typeof c=="function"?Promise.resolve(c.call(e,n.$event)):Promise.resolve()}return Promise.resolve(new a(["dataContext",...Object.keys(n)],`with(dataContext) { ${i} }`)(e,...Object.values(n)))}let k=/^x-(on|bind|data|text|html|model|if|for|show|cloak|transition|ref|spread)\b/;function N(i){let e=G(i.name);return k.test(e)}function L(i,e,n){let a=Array.from(i.attributes).filter(N).map(q),c=a.filter(f=>f.type==="spread")[0];if(c){let f=S(c.expression,e.$data);a=a.concat(Object.entries(f).map(([p,d])=>q({name:p,value:d})))}return n?a.filter(f=>f.type===n):R(a)}function R(i){let e=["bind","model","show","catch-all"];return i.sort((n,a)=>{let c=e.indexOf(n.type)===-1?"catch-all":n.type,f=e.indexOf(a.type)===-1?"catch-all":a.type;return e.indexOf(c)-e.indexOf(f)})}function q({name:i,value:e}){let n=G(i),a=n.match(k),c=n.match(/:([a-zA-Z0-9\-:]+)/),f=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[];return{type:a?a[1]:null,value:c?c[1]:null,modifiers:f.map(p=>p.replace(".","")),expression:e}}function B(i){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(i)}function G(i){return i.startsWith("@")?i.replace("@","x-on:"):i.startsWith(":")?i.replace(":","x-bind:"):i}function U(i,e=Boolean){return i.split(" ").filter(e)}let ne="in",ae="out",oe="cancelled";function fe(i,e,n,a,c=!1){if(c)return e();if(i.__x_transition&&i.__x_transition.type===ne)return;let f=L(i,a,"transition"),p=L(i,a,"show")[0];if(p&&p.modifiers.includes("transition")){let d=p.modifiers;if(d.includes("out")&&!d.includes("in"))return e();d=d.includes("in")&&d.includes("out")?d.filter((Q,D)=>D<d.indexOf("out")):d,de(i,d,e,n)}else f.some(d=>["enter","enter-start","enter-end"].includes(d.value))?ue(i,a,f,e,n):e()}function Z(i,e,n,a,c=!1){if(c)return e();if(i.__x_transition&&i.__x_transition.type===ae)return;let f=L(i,a,"transition"),p=L(i,a,"show")[0];if(p&&p.modifiers.includes("transition")){let d=p.modifiers;if(d.includes("in")&&!d.includes("out"))return e();let _=d.includes("in")&&d.includes("out");d=_?d.filter((Q,D)=>D>d.indexOf("out")):d,he(i,d,_,e,n)}else f.some(d=>["leave","leave-start","leave-end"].includes(d.value))?v(i,a,f,e,n):e()}function de(i,e,n,a){let c={duration:ee(e,"duration",150),origin:ee(e,"origin","center"),first:{opacity:0,scale:ee(e,"scale",95)},second:{opacity:1,scale:100}};pe(i,e,n,()=>{},a,c,ne)}function he(i,e,n,a,c){let p={duration:n?ee(e,"duration",150):ee(e,"duration",150)/2,origin:ee(e,"origin","center"),first:{opacity:1,scale:100},second:{opacity:0,scale:ee(e,"scale",95)}};pe(i,e,()=>{},a,c,p,ae)}function ee(i,e,n){if(i.indexOf(e)===-1)return n;let a=i[i.indexOf(e)+1];if(!a||e==="scale"&&!z(a))return n;if(e==="duration"){let c=a.match(/([0-9]+)ms/);if(c)return c[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(i[i.indexOf(e)+2])?[a,i[i.indexOf(e)+2]].join(" "):a}function pe(i,e,n,a,c,f,p){i.__x_transition&&i.__x_transition.cancel&&i.__x_transition.cancel();let d=i.style.opacity,_=i.style.transform,Q=i.style.transformOrigin,D=!e.includes("opacity")&&!e.includes("scale"),V=D||e.includes("opacity"),M=D||e.includes("scale");P(i,{start(){V&&(i.style.opacity=f.first.opacity),M&&(i.style.transform=`scale(${f.first.scale/100})`)},during(){M&&(i.style.transformOrigin=f.origin),i.style.transitionProperty=[V?"opacity":"",M?"transform":""].join(" ").trim(),i.style.transitionDuration=`${f.duration/1e3}s`,i.style.transitionTimingFunction="cubic-bezier(0.4, 0.0, 0.2, 1)"},show(){n()},end(){V&&(i.style.opacity=f.second.opacity),M&&(i.style.transform=`scale(${f.second.scale/100})`)},hide(){a()},cleanup(){V&&(i.style.opacity=d),M&&(i.style.transform=_),M&&(i.style.transformOrigin=Q),i.style.transitionProperty=null,i.style.transitionDuration=null,i.style.transitionTimingFunction=null}},p,c)}let J=(i,e,n)=>typeof i=="function"?n.evaluateReturnExpression(e,i):i;function ue(i,e,n,a,c){let f=U(J((n.find(_=>_.value==="enter")||{expression:""}).expression,i,e)),p=U(J((n.find(_=>_.value==="enter-start")||{expression:""}).expression,i,e)),d=U(J((n.find(_=>_.value==="enter-end")||{expression:""}).expression,i,e));g(i,f,p,d,a,()=>{},ne,c)}function v(i,e,n,a,c){let f=U(J((n.find(_=>_.value==="leave")||{expression:""}).expression,i,e)),p=U(J((n.find(_=>_.value==="leave-start")||{expression:""}).expression,i,e)),d=U(J((n.find(_=>_.value==="leave-end")||{expression:""}).expression,i,e));g(i,f,p,d,()=>{},a,ae,c)}function g(i,e,n,a,c,f,p,d){i.__x_transition&&i.__x_transition.cancel&&i.__x_transition.cancel();let _=i.__x_original_classes||[];P(i,{start(){i.classList.add(...n)},during(){i.classList.add(...e)},show(){c()},end(){i.classList.remove(...n.filter(D=>!_.includes(D))),i.classList.add(...a)},hide(){f()},cleanup(){i.classList.remove(...e.filter(D=>!_.includes(D))),i.classList.remove(...a.filter(D=>!_.includes(D)))}},p,d)}function P(i,e,n,a){let c=b(()=>{e.hide(),i.isConnected&&e.cleanup(),delete i.__x_transition});i.__x_transition={type:n,cancel:b(()=>{a(oe),c()}),finish:c,nextFrame:null},e.start(),e.during(),i.__x_transition.nextFrame=requestAnimationFrame(()=>{let f=Number(getComputedStyle(i).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3;f===0&&(f=Number(getComputedStyle(i).animationDuration.replace("s",""))*1e3),e.show(),i.__x_transition.nextFrame=requestAnimationFrame(()=>{e.end(),setTimeout(i.__x_transition.finish,f)})})}function z(i){return!Array.isArray(i)&&!isNaN(i)}function b(i){let e=!1;return function(){e||(e=!0,i.apply(this,arguments))}}function O(i,e,n,a,c){y(e,"x-for");let f=typeof n=="function"?$(i.evaluateReturnExpression(e,n)):$(n),p=K(i,e,f,c),d=e;p.forEach((_,Q)=>{let D=F(f,_,Q,p,c()),V=T(i,e,Q,D),M=ye(d.nextElementSibling,V);M?(delete M.__x_for_key,M.__x_for=D,i.updateElements(M,()=>M.__x_for)):(M=ie(e,d),fe(M,()=>{},()=>{},i,a),M.__x_for=D,i.initializeElements(M,()=>M.__x_for)),d=M,d.__x_for_key=V}),Pe(d,i)}function $(i){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\(|\)$/g,a=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,c=i.match(a);if(!c)return;let f={};f.items=c[2].trim();let p=c[1].trim().replace(n,""),d=p.match(e);return d?(f.item=p.replace(e,"").trim(),f.index=d[1].trim(),d[2]&&(f.collection=d[2].trim())):f.item=p,f}function F(i,e,n,a,c){let f=c?s({},c):{};return f[i.item]=e,i.index&&(f[i.index]=n),i.collection&&(f[i.collection]=a),f}function T(i,e,n,a){let c=L(e,i,"bind").filter(f=>f.value==="key")[0];return c?i.evaluateReturnExpression(e,c.expression,()=>a):n}function K(i,e,n,a){let c=L(e,i,"if")[0];if(c&&!i.evaluateReturnExpression(e,c.expression))return[];let f=i.evaluateReturnExpression(e,n.items,a);return z(f)&&f>0&&(f=Array.from(Array(f).keys(),p=>p+1)),f}function ie(i,e){let n=document.importNode(i.content,!0);return e.parentElement.insertBefore(n,e.nextElementSibling),e.nextElementSibling}function ye(i,e){if(!i)return;if(i.__x_for_key===e)return i;let n=i;for(;n;){if(n.__x_for_key===e)return n.parentElement.insertBefore(n,i);n=n.nextElementSibling&&n.nextElementSibling.__x_for_key!==void 0?n.nextElementSibling:!1}}function Pe(i,e){for(var n=i.nextElementSibling&&i.nextElementSibling.__x_for_key!==void 0?i.nextElementSibling:!1;n;){let a=n,c=n.nextElementSibling;Z(n,()=>{a.remove()},()=>{},e),n=c&&c.__x_for_key!==void 0?c:!1}}function Se(i,e,n,a,c,f,p){var d=i.evaluateReturnExpression(e,a,c);if(n==="value"){if(we.ignoreFocusedForValueBinding&&document.activeElement.isSameNode(e))return;if(d===void 0&&a.match(/\./)&&(d=""),e.type==="radio")e.attributes.value===void 0&&f==="bind"?e.value=d:f!=="bind"&&(e.checked=h(e.value,d));else if(e.type==="checkbox")typeof d!="boolean"&&![null,void 0].includes(d)&&f==="bind"?e.value=String(d):f!=="bind"&&(Array.isArray(d)?e.checked=d.some(_=>h(_,e.value)):e.checked=!!d);else if(e.tagName==="SELECT")Me(e,d);else{if(e.value===d)return;e.value=d}}else if(n==="class")if(Array.isArray(d)){let _=e.__x_original_classes||[];e.setAttribute("class",l(_.concat(d)).join(" "))}else if(typeof d=="object")Object.keys(d).sort((Q,D)=>d[Q]-d[D]).forEach(Q=>{d[Q]?U(Q).forEach(D=>e.classList.add(D)):U(Q).forEach(D=>e.classList.remove(D))});else{let _=e.__x_original_classes||[],Q=U(d);e.setAttribute("class",l(_.concat(Q)).join(" "))}else n=p.includes("camel")?m(n):n,[null,void 0,!1].includes(d)?e.removeAttribute(n):B(n)?ze(e,n,n):ze(e,n,d)}function ze(i,e,n){i.getAttribute(e)!=n&&i.setAttribute(e,n)}function Me(i,e){let n=[].concat(e).map(a=>a+"");Array.from(i.options).forEach(a=>{a.selected=n.includes(a.value||a.text)})}function _e(i,e,n){e===void 0&&n.match(/\./)&&(e=""),i.textContent=e}function le(i,e,n,a){e.innerHTML=i.evaluateReturnExpression(e,n,a)}function be(i,e,n,a,c=!1){let f=()=>{e.style.display="none",e.__x_is_shown=!1},p=()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display"),e.__x_is_shown=!0};if(c===!0){n?p():f();return}let d=(_,Q)=>{n?((e.style.display==="none"||e.__x_transition)&&fe(e,()=>{p()},Q,i),_(()=>{})):e.style.display!=="none"?Z(e,()=>{_(()=>{f()})},Q,i):_(()=>{})};if(a.includes("immediate")){d(_=>_(),()=>{});return}i.showDirectiveLastElement&&!i.showDirectiveLastElement.contains(e)&&i.executeAndClearRemainingShowDirectiveStack(),i.showDirectiveStack.push(d),i.showDirectiveLastElement=e}function Re(i,e,n,a,c){y(e,"x-if");let f=e.nextElementSibling&&e.nextElementSibling.__x_inserted_me===!0;if(n&&(!f||e.__x_transition)){let p=document.importNode(e.content,!0);e.parentElement.insertBefore(p,e.nextElementSibling),fe(e.nextElementSibling,()=>{},()=>{},i,a),i.initializeElements(e.nextElementSibling,c),e.nextElementSibling.__x_inserted_me=!0}else!n&&f&&Z(e.nextElementSibling,()=>{e.nextElementSibling.remove()},()=>{},i,a)}function Te(i,e,n,a,c,f={}){let p={passive:a.includes("passive")};if(a.includes("camel")&&(n=m(n)),a.includes("away")){let d=_=>{e.contains(_.target)||e.offsetWidth<1&&e.offsetHeight<1||(Fe(i,c,_,f),a.includes("once")&&document.removeEventListener(n,d,p))};document.addEventListener(n,d,p)}else{let d=a.includes("window")?window:a.includes("document")?document:e,_=Q=>{if((d===window||d===document)&&!document.body.contains(e)){d.removeEventListener(n,_,p);return}De(n)&&te(Q,a)||(a.includes("prevent")&&Q.preventDefault(),a.includes("stop")&&Q.stopPropagation(),(!a.includes("self")||Q.target===e)&&Fe(i,c,Q,f).then(V=>{V===!1?Q.preventDefault():a.includes("once")&&d.removeEventListener(n,_,p)}))};if(a.includes("debounce")){let Q=a[a.indexOf("debounce")+1]||"invalid-wait",D=z(Q.split("ms")[0])?Number(Q.split("ms")[0]):250;_=I(_,D)}d.addEventListener(n,_,p)}}function Fe(i,e,n,a){return i.evaluateCommandExpression(n.target,e,()=>s(s({},a()),{},{$event:n}))}function De(i){return["keydown","keyup"].includes(i)}function te(i,e){let n=e.filter(f=>!["window","document","prevent","stop"].includes(f));if(n.includes("debounce")){let f=n.indexOf("debounce");n.splice(f,z((n[f+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.length===0||n.length===1&&n[0]===Ae(i.key))return!1;let c=["ctrl","shift","alt","meta","cmd","super"].filter(f=>n.includes(f));return n=n.filter(f=>!c.includes(f)),!(c.length>0&&c.filter(p=>((p==="cmd"||p==="super")&&(p="meta"),i[`${p}Key`])).length===c.length&&n[0]===Ae(i.key))}function Ae(i){switch(i){case"/":return"slash";case" ":case"Spacebar":return"space";default:return i&&E(i)}}function Be(i,e,n,a,c){var f=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||n.includes("lazy")?"change":"input";let p=`${a} = rightSideOfExpression($event, ${a})`;Te(i,e,f,n,p,()=>s(s({},c()),{},{rightSideOfExpression:$e(e,n,a)}))}function $e(i,e,n){return i.type==="radio"&&(i.hasAttribute("name")||i.setAttribute("name",n)),(a,c)=>{if(a instanceof CustomEvent&&a.detail)return a.detail;if(i.type==="checkbox")if(Array.isArray(c)){let f=e.includes("number")?ke(a.target.value):a.target.value;return a.target.checked?c.concat([f]):c.filter(p=>!h(p,f))}else return a.target.checked;else{if(i.tagName.toLowerCase()==="select"&&i.multiple)return e.includes("number")?Array.from(a.target.selectedOptions).map(f=>{let p=f.value||f.text;return ke(p)}):Array.from(a.target.selectedOptions).map(f=>f.value||f.text);{let f=a.target.value;return e.includes("number")?ke(f):e.includes("trim")?f.trim():f}}}}function ke(i){let e=i?parseFloat(i):null;return z(e)?e:i}let{isArray:Ie}=Array,{getPrototypeOf:Qe,create:Oe,defineProperty:ge,defineProperties:Ve,isExtensible:Ee,getOwnPropertyDescriptor:x,getOwnPropertyNames:A,getOwnPropertySymbols:j,preventExtensions:H,hasOwnProperty:W}=Object,{push:X,concat:ce,map:ve}=Array.prototype;function Y(i){return i===void 0}function se(i){return typeof i=="function"}function me(i){return typeof i=="object"}let xe=new WeakMap;function re(i,e){xe.set(i,e)}let Le=i=>xe.get(i)||i;function We(i,e){return i.valueIsObservable(e)?i.getProxy(e):e}function dt(i){return W.call(i,"value")&&(i.value=Le(i.value)),i}function Je(i,e,n){ce.call(A(n),j(n)).forEach(c=>{let f=x(n,c);f.configurable||(f=je(i,f,We)),ge(e,c,f)}),H(e)}class ht{constructor(e,n){this.originalTarget=n,this.membrane=e}get(e,n){let{originalTarget:a,membrane:c}=this,f=a[n],{valueObserved:p}=c;return p(a,n),c.getProxy(f)}set(e,n,a){let{originalTarget:c,membrane:{valueMutated:f}}=this;return c[n]!==a?(c[n]=a,f(c,n)):n==="length"&&Ie(c)&&f(c,n),!0}deleteProperty(e,n){let{originalTarget:a,membrane:{valueMutated:c}}=this;return delete a[n],c(a,n),!0}apply(e,n,a){}construct(e,n,a){}has(e,n){let{originalTarget:a,membrane:{valueObserved:c}}=this;return c(a,n),n in a}ownKeys(e){let{originalTarget:n}=this;return ce.call(A(n),j(n))}isExtensible(e){let n=Ee(e);if(!n)return n;let{originalTarget:a,membrane:c}=this,f=Ee(a);return f||Je(c,e,a),f}setPrototypeOf(e,n){}getPrototypeOf(e){let{originalTarget:n}=this;return Qe(n)}getOwnPropertyDescriptor(e,n){let{originalTarget:a,membrane:c}=this,{valueObserved:f}=this.membrane;f(a,n);let p=x(a,n);if(Y(p))return p;let d=x(e,n);return Y(d)?(p=je(c,p,We),p.configurable||ge(e,n,p),p):d}preventExtensions(e){let{originalTarget:n,membrane:a}=this;return Je(a,e,n),H(n),!0}defineProperty(e,n,a){let{originalTarget:c,membrane:f}=this,{valueMutated:p}=f,{configurable:d}=a;if(W.call(a,"writable")&&!W.call(a,"value")){let _=x(c,n);a.value=_.value}return ge(c,n,dt(a)),d===!1&&ge(e,n,je(f,a,We)),p(c,n),!0}}function pt(i,e){return i.valueIsObservable(e)?i.getReadOnlyProxy(e):e}class vt{constructor(e,n){this.originalTarget=n,this.membrane=e}get(e,n){let{membrane:a,originalTarget:c}=this,f=c[n],{valueObserved:p}=a;return p(c,n),a.getReadOnlyProxy(f)}set(e,n,a){return!1}deleteProperty(e,n){return!1}apply(e,n,a){}construct(e,n,a){}has(e,n){let{originalTarget:a,membrane:{valueObserved:c}}=this;return c(a,n),n in a}ownKeys(e){let{originalTarget:n}=this;return ce.call(A(n),j(n))}setPrototypeOf(e,n){}getOwnPropertyDescriptor(e,n){let{originalTarget:a,membrane:c}=this,{valueObserved:f}=c;f(a,n);let p=x(a,n);if(Y(p))return p;let d=x(e,n);return Y(d)?(p=je(c,p,pt),W.call(p,"set")&&(p.set=void 0),p.configurable||ge(e,n,p),p):d}preventExtensions(e){return!1}defineProperty(e,n,a){return!1}}function Xe(i){let e;return Ie(i)?e=[]:me(i)&&(e={}),e}let yt=Object.prototype;function Ye(i){if(i===null||typeof i!="object")return!1;if(Ie(i))return!0;let e=Qe(i);return e===yt||e===null||Qe(e)===null}let Ze=(i,e)=>{},et=(i,e)=>{},tt=i=>i;function je(i,e,n){let{set:a,get:c}=e;return W.call(e,"value")?e.value=n(i,e.value):(Y(c)||(e.get=function(){return n(i,c.call(Le(this)))}),Y(a)||(e.set=function(f){a.call(Le(this),i.unwrapProxy(f))})),e}class gt{constructor(e){if(this.valueDistortion=tt,this.valueMutated=et,this.valueObserved=Ze,this.valueIsObservable=Ye,this.objectGraph=new WeakMap,!Y(e)){let{valueDistortion:n,valueMutated:a,valueObserved:c,valueIsObservable:f}=e;this.valueDistortion=se(n)?n:tt,this.valueMutated=se(a)?a:et,this.valueObserved=se(c)?c:Ze,this.valueIsObservable=se(f)?f:Ye}}getProxy(e){let n=Le(e),a=this.valueDistortion(n);if(this.valueIsObservable(a)){let c=this.getReactiveState(n,a);return c.readOnly===e?e:c.reactive}return a}getReadOnlyProxy(e){e=Le(e);let n=this.valueDistortion(e);return this.valueIsObservable(n)?this.getReactiveState(e,n).readOnly:n}unwrapProxy(e){return Le(e)}getReactiveState(e,n){let{objectGraph:a}=this,c=a.get(n);if(c)return c;let f=this;return c={get reactive(){let p=new ht(f,n),d=new Proxy(Xe(n),p);return re(d,e),ge(this,"reactive",{value:d}),d},get readOnly(){let p=new vt(f,n),d=new Proxy(Xe(n),p);return re(d,e),ge(this,"readOnly",{value:d}),d}},a.set(n,c),c}}function mt(i,e){let n=new gt({valueMutated(a,c){e(a,c)}});return{data:n.getProxy(i),membrane:n}}function xt(i,e){let n=i.unwrapProxy(e),a={};return Object.keys(n).forEach(c=>{["$el","$refs","$nextTick","$watch"].includes(c)||(a[c]=n[c])}),a}class Ce{constructor(e,n=null){this.$el=e;let a=this.$el.getAttribute("x-data"),c=a===""?"{}":a,f=this.$el.getAttribute("x-init"),p={$el:this.$el},d=n?n.$el:this.$el;Object.entries(we.magicProperties).forEach(([V,M])=>{Object.defineProperty(p,`$${V}`,{get:function(){return M(d)}})}),this.unobservedData=n?n.getUnobservedData():S(c,p);let{membrane:_,data:Q}=this.wrapDataInObservable(this.unobservedData);this.$data=Q,this.membrane=_,this.unobservedData.$el=this.$el,this.unobservedData.$refs=this.getRefsProxy(),this.nextTickStack=[],this.unobservedData.$nextTick=V=>{this.nextTickStack.push(V)},this.watchers={},this.unobservedData.$watch=(V,M)=>{this.watchers[V]||(this.watchers[V]=[]),this.watchers[V].push(M)},Object.entries(we.magicProperties).forEach(([V,M])=>{Object.defineProperty(this.unobservedData,`$${V}`,{get:function(){return M(d)}})}),this.showDirectiveStack=[],this.showDirectiveLastElement,n||we.onBeforeComponentInitializeds.forEach(V=>V(this));var D;f&&!n&&(this.pauseReactivity=!0,D=this.evaluateReturnExpression(this.$el,f),this.pauseReactivity=!1),this.initializeElements(this.$el),this.listenForNewElementsToInitialize(),typeof D=="function"&&D.call(this.$data),n||setTimeout(()=>{we.onComponentInitializeds.forEach(V=>V(this))},0)}getUnobservedData(){return xt(this.membrane,this.$data)}wrapDataInObservable(e){var n=this;let a=I(function(){n.updateElements(n.$el)},0);return mt(e,(c,f)=>{n.watchers[f]?n.watchers[f].forEach(p=>p(c[f])):Array.isArray(c)?Object.keys(n.watchers).forEach(p=>{let d=p.split(".");f!=="length"&&d.reduce((_,Q)=>(Object.is(c,_[Q])&&n.watchers[p].forEach(D=>D(c)),_[Q]),n.unobservedData)}):Object.keys(n.watchers).filter(p=>p.includes(".")).forEach(p=>{let d=p.split(".");f===d[d.length-1]&&d.reduce((_,Q)=>(Object.is(c,_)&&n.watchers[p].forEach(D=>D(c[f])),_[Q]),n.unobservedData)}),!n.pauseReactivity&&a()})}walkAndSkipNestedComponents(e,n,a=()=>{}){w(e,c=>c.hasAttribute("x-data")&&!c.isSameNode(this.$el)?(c.__x||a(c),!1):n(c))}initializeElements(e,n=()=>{}){this.walkAndSkipNestedComponents(e,a=>{if(a.__x_for_key!==void 0||a.__x_inserted_me!==void 0)return!1;this.initializeElement(a,n)},a=>{a.__x=new Ce(a)}),this.executeAndClearRemainingShowDirectiveStack(),this.executeAndClearNextTickStack(e)}initializeElement(e,n){e.hasAttribute("class")&&L(e,this).length>0&&(e.__x_original_classes=U(e.getAttribute("class"))),this.registerListeners(e,n),this.resolveBoundAttributes(e,!0,n)}updateElements(e,n=()=>{}){this.walkAndSkipNestedComponents(e,a=>{if(a.__x_for_key!==void 0&&!a.isSameNode(this.$el))return!1;this.updateElement(a,n)},a=>{a.__x=new Ce(a)}),this.executeAndClearRemainingShowDirectiveStack(),this.executeAndClearNextTickStack(e)}executeAndClearNextTickStack(e){e===this.$el&&this.nextTickStack.length>0&&requestAnimationFrame(()=>{for(;this.nextTickStack.length>0;)this.nextTickStack.shift()()})}executeAndClearRemainingShowDirectiveStack(){this.showDirectiveStack.reverse().map(e=>new Promise((n,a)=>{e(n,a)})).reduce((e,n)=>e.then(()=>n.then(a=>{a()})),Promise.resolve(()=>{})).catch(e=>{if(e!==oe)throw e}),this.showDirectiveStack=[],this.showDirectiveLastElement=void 0}updateElement(e,n){this.resolveBoundAttributes(e,!1,n)}registerListeners(e,n){L(e,this).forEach(({type:a,value:c,modifiers:f,expression:p})=>{switch(a){case"on":Te(this,e,c,f,p,n);break;case"model":Be(this,e,f,p,n);break}})}resolveBoundAttributes(e,n=!1,a){let c=L(e,this);c.forEach(({type:f,value:p,modifiers:d,expression:_})=>{switch(f){case"model":Se(this,e,"value",_,a,f,d);break;case"bind":if(e.tagName.toLowerCase()==="template"&&p==="key")return;Se(this,e,p,_,a,f,d);break;case"text":var Q=this.evaluateReturnExpression(e,_,a);_e(e,Q,_);break;case"html":le(this,e,_,a);break;case"show":var Q=this.evaluateReturnExpression(e,_,a);be(this,e,Q,d,n);break;case"if":if(c.some(D=>D.type==="for"))return;var Q=this.evaluateReturnExpression(e,_,a);Re(this,e,Q,n,a);break;case"for":O(this,e,_,n,a);break;case"cloak":e.removeAttribute("x-cloak");break}})}evaluateReturnExpression(e,n,a=()=>{}){return S(n,this.$data,s(s({},a()),{},{$dispatch:this.getDispatchFunction(e)}))}evaluateCommandExpression(e,n,a=()=>{}){return C(n,this.$data,s(s({},a()),{},{$dispatch:this.getDispatchFunction(e)}))}getDispatchFunction(e){return(n,a={})=>{e.dispatchEvent(new CustomEvent(n,{detail:a,bubbles:!0}))}}listenForNewElementsToInitialize(){let e=this.$el,n={childList:!0,attributes:!0,subtree:!0};new MutationObserver(c=>{for(let f=0;f<c.length;f++){let p=c[f].target.closest("[x-data]");if(!!(p&&p.isSameNode(this.$el))){if(c[f].type==="attributes"&&c[f].attributeName==="x-data"){let d=S(c[f].target.getAttribute("x-data")||"{}",{$el:this.$el});Object.keys(d).forEach(_=>{this.$data[_]!==d[_]&&(this.$data[_]=d[_])})}c[f].addedNodes.length>0&&c[f].addedNodes.forEach(d=>{if(!(d.nodeType!==1||d.__x_inserted_me)){if(d.matches("[x-data]")&&!d.__x){d.__x=new Ce(d);return}this.initializeElements(d)}})}}}).observe(e,n)}getRefsProxy(){var e=this,n={};return new Proxy(n,{get(a,c){if(c==="$isAlpineProxy")return!0;var f;return e.walkAndSkipNestedComponents(e.$el,p=>{p.hasAttribute("x-ref")&&p.getAttribute("x-ref")===c&&(f=p)}),f}})}}let we={version:"2.7.3",pauseMutationObserver:!1,magicProperties:{},onComponentInitializeds:[],onBeforeComponentInitializeds:[],ignoreFocusedForValueBinding:!1,start:async function(){u()||await o(),this.discoverComponents(e=>{this.initializeComponent(e)}),document.addEventListener("turbolinks:load",()=>{this.discoverUninitializedComponents(e=>{this.initializeComponent(e)})}),this.listenForNewUninitializedComponentsAtRunTime()},discoverComponents:function(e){document.querySelectorAll("[x-data]").forEach(a=>{e(a)})},discoverUninitializedComponents:function(e,n=null){let a=(n||document).querySelectorAll("[x-data]");Array.from(a).filter(c=>c.__x===void 0).forEach(c=>{e(c)})},listenForNewUninitializedComponentsAtRunTime:function(){let e=document.querySelector("body"),n={childList:!0,attributes:!0,subtree:!0};new MutationObserver(c=>{if(!this.pauseMutationObserver)for(let f=0;f<c.length;f++)c[f].addedNodes.length>0&&c[f].addedNodes.forEach(p=>{p.nodeType===1&&(p.parentElement&&p.parentElement.closest("[x-data]")||this.discoverUninitializedComponents(d=>{this.initializeComponent(d)},p.parentElement))})}).observe(e,n)},initializeComponent:function(e){if(!e.__x)try{e.__x=new Ce(e)}catch(n){setTimeout(()=>{throw n},0)}},clone:function(e,n){n.__x||(n.__x=new Ce(n,e))},addMagicProperty:function(e,n){this.magicProperties[e]=n},onComponentInitialized:function(e){this.onComponentInitializeds.push(e)},onBeforeComponentInitialized:function(e){this.onBeforeComponentInitializeds.push(e)}};return u()||(window.Alpine=we,window.deferLoadingAlpine?window.deferLoadingAlpine(function(){window.Alpine.start()}):window.Alpine.start()),we})});var ot=Ue((st,at)=>{(function(){var r=function(t){var s=new r.Builder;return s.pipeline.add(r.trimmer,r.stopWordFilter,r.stemmer),s.searchPipeline.add(r.stemmer),t.call(s,s),s.build()};r.version="2.3.9";r.utils={},r.utils.warn=function(t){return function(s){t.console&&console.warn&&console.warn(s)}}(this),r.utils.asString=function(t){return t==null?"":t.toString()},r.utils.clone=function(t){if(t==null)return t;for(var s=Object.create(null),o=Object.keys(t),l=0;l<o.length;l++){var u=o[l],h=t[u];if(Array.isArray(h)){s[u]=h.slice();continue}if(typeof h=="string"||typeof h=="number"||typeof h=="boolean"){s[u]=h;continue}throw new TypeError("clone is not deep and does not support nested objects")}return s},r.FieldRef=function(t,s,o){this.docRef=t,this.fieldName=s,this._stringValue=o},r.FieldRef.joiner="/",r.FieldRef.fromString=function(t){var s=t.indexOf(r.FieldRef.joiner);if(s===-1)throw"malformed field ref string";var o=t.slice(0,s),l=t.slice(s+1);return new r.FieldRef(l,o,t)},r.FieldRef.prototype.toString=function(){return this._stringValue==null&&(this._stringValue=this.fieldName+r.FieldRef.joiner+this.docRef),this._stringValue};r.Set=function(t){if(this.elements=Object.create(null),t){this.length=t.length;for(var s=0;s<this.length;s++)this.elements[t[s]]=!0}else this.length=0},r.Set.complete={intersect:function(t){return t},union:function(){return this},contains:function(){return!0}},r.Set.empty={intersect:function(){return this},union:function(t){return t},contains:function(){return!1}},r.Set.prototype.contains=function(t){return!!this.elements[t]},r.Set.prototype.intersect=function(t){var s,o,l,u=[];if(t===r.Set.complete)return this;if(t===r.Set.empty)return t;this.length<t.length?(s=this,o=t):(s=t,o=this),l=Object.keys(s.elements);for(var h=0;h<l.length;h++){var y=l[h];y in o.elements&&u.push(y)}return new r.Set(u)},r.Set.prototype.union=function(t){return t===r.Set.complete?r.Set.complete:t===r.Set.empty?this:new r.Set(Object.keys(this.elements).concat(Object.keys(t.elements)))},r.idf=function(t,s){var o=0;for(var l in t)l!="_index"&&(o+=Object.keys(t[l]).length);var u=(s-o+.5)/(o+.5);return Math.log(1+Math.abs(u))},r.Token=function(t,s){this.str=t||"",this.metadata=s||{}},r.Token.prototype.toString=function(){return this.str},r.Token.prototype.update=function(t){return this.str=t(this.str,this.metadata),this},r.Token.prototype.clone=function(t){return t=t||function(s){return s},new r.Token(t(this.str,this.metadata),this.metadata)};r.tokenizer=function(t,s){if(t==null||t==null)return[];if(Array.isArray(t))return t.map(function(I){return new r.Token(r.utils.asString(I).toLowerCase(),r.utils.clone(s))});for(var o=t.toString().toLowerCase(),l=o.length,u=[],h=0,y=0;h<=l;h++){var E=o.charAt(h),m=h-y;if(E.match(r.tokenizer.separator)||h==l){if(m>0){var w=r.utils.clone(s)||{};w.position=[y,m],w.index=u.length,u.push(new r.Token(o.slice(y,h),w))}y=h+1}}return u},r.tokenizer.separator=/[\s\-]+/;r.Pipeline=function(){this._stack=[]},r.Pipeline.registeredFunctions=Object.create(null),r.Pipeline.registerFunction=function(t,s){s in this.registeredFunctions&&r.utils.warn("Overwriting existing registered function: "+s),t.label=s,r.Pipeline.registeredFunctions[t.label]=t},r.Pipeline.warnIfFunctionNotRegistered=function(t){var s=t.label&&t.label in this.registeredFunctions;s||r.utils.warn(`Function is not registered with pipeline. This may cause problems when serialising the index.
`,t)},r.Pipeline.load=function(t){var s=new r.Pipeline;return t.forEach(function(o){var l=r.Pipeline.registeredFunctions[o];if(l)s.add(l);else throw new Error("Cannot load unregistered function: "+o)}),s},r.Pipeline.prototype.add=function(){var t=Array.prototype.slice.call(arguments);t.forEach(function(s){r.Pipeline.warnIfFunctionNotRegistered(s),this._stack.push(s)},this)},r.Pipeline.prototype.after=function(t,s){r.Pipeline.warnIfFunctionNotRegistered(s);var o=this._stack.indexOf(t);if(o==-1)throw new Error("Cannot find existingFn");o=o+1,this._stack.splice(o,0,s)},r.Pipeline.prototype.before=function(t,s){r.Pipeline.warnIfFunctionNotRegistered(s);var o=this._stack.indexOf(t);if(o==-1)throw new Error("Cannot find existingFn");this._stack.splice(o,0,s)},r.Pipeline.prototype.remove=function(t){var s=this._stack.indexOf(t);s!=-1&&this._stack.splice(s,1)},r.Pipeline.prototype.run=function(t){for(var s=this._stack.length,o=0;o<s;o++){for(var l=this._stack[o],u=[],h=0;h<t.length;h++){var y=l(t[h],h,t);if(!(y==null||y===""))if(Array.isArray(y))for(var E=0;E<y.length;E++)u.push(y[E]);else u.push(y)}t=u}return t},r.Pipeline.prototype.runString=function(t,s){var o=new r.Token(t,s);return this.run([o]).map(function(l){return l.toString()})},r.Pipeline.prototype.reset=function(){this._stack=[]},r.Pipeline.prototype.toJSON=function(){return this._stack.map(function(t){return r.Pipeline.warnIfFunctionNotRegistered(t),t.label})};r.Vector=function(t){this._magnitude=0,this.elements=t||[]},r.Vector.prototype.positionForIndex=function(t){if(this.elements.length==0)return 0;for(var s=0,o=this.elements.length/2,l=o-s,u=Math.floor(l/2),h=this.elements[u*2];l>1&&(h<t&&(s=u),h>t&&(o=u),h!=t);)l=o-s,u=s+Math.floor(l/2),h=this.elements[u*2];if(h==t||h>t)return u*2;if(h<t)return(u+1)*2},r.Vector.prototype.insert=function(t,s){this.upsert(t,s,function(){throw"duplicate index"})},r.Vector.prototype.upsert=function(t,s,o){this._magnitude=0;var l=this.positionForIndex(t);this.elements[l]==t?this.elements[l+1]=o(this.elements[l+1],s):this.elements.splice(l,0,t,s)},r.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var t=0,s=this.elements.length,o=1;o<s;o+=2){var l=this.elements[o];t+=l*l}return this._magnitude=Math.sqrt(t)},r.Vector.prototype.dot=function(t){for(var s=0,o=this.elements,l=t.elements,u=o.length,h=l.length,y=0,E=0,m=0,w=0;m<u&&w<h;)y=o[m],E=l[w],y<E?m+=2:y>E?w+=2:y==E&&(s+=o[m+1]*l[w+1],m+=2,w+=2);return s},r.Vector.prototype.similarity=function(t){return this.dot(t)/this.magnitude()||0},r.Vector.prototype.toArray=function(){for(var t=new Array(this.elements.length/2),s=1,o=0;s<this.elements.length;s+=2,o++)t[o]=this.elements[s];return t},r.Vector.prototype.toJSON=function(){return this.elements};r.stemmer=function(){var t={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},s={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},o="[^aeiou]",l="[aeiouy]",u=o+"[^aeiouy]*",h=l+"[aeiou]*",y="^("+u+")?"+h+u,E="^("+u+")?"+h+u+"("+h+")?$",m="^("+u+")?"+h+u+h+u,w="^("+u+")?"+l,I=new RegExp(y),S=new RegExp(m),C=new RegExp(E),k=new RegExp(w),N=/^(.+?)(ss|i)es$/,L=/^(.+?)([^s])s$/,R=/^(.+?)eed$/,q=/^(.+?)(ed|ing)$/,B=/.$/,G=/(at|bl|iz)$/,U=new RegExp("([^aeiouylsz])\\1$"),ne=new RegExp("^"+u+l+"[^aeiouwxy]$"),ae=/^(.+?[^aeiou])y$/,oe=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,fe=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,Z=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,de=/^(.+?)(s|t)(ion)$/,he=/^(.+?)e$/,ee=/ll$/,pe=new RegExp("^"+u+l+"[^aeiouwxy]$"),J=function(v){var g,P,z,b,O,$,F;if(v.length<3)return v;if(z=v.substr(0,1),z=="y"&&(v=z.toUpperCase()+v.substr(1)),b=N,O=L,b.test(v)?v=v.replace(b,"$1$2"):O.test(v)&&(v=v.replace(O,"$1$2")),b=R,O=q,b.test(v)){var T=b.exec(v);b=I,b.test(T[1])&&(b=B,v=v.replace(b,""))}else if(O.test(v)){var T=O.exec(v);g=T[1],O=k,O.test(g)&&(v=g,O=G,$=U,F=ne,O.test(v)?v=v+"e":$.test(v)?(b=B,v=v.replace(b,"")):F.test(v)&&(v=v+"e"))}if(b=ae,b.test(v)){var T=b.exec(v);g=T[1],v=g+"i"}if(b=oe,b.test(v)){var T=b.exec(v);g=T[1],P=T[2],b=I,b.test(g)&&(v=g+t[P])}if(b=fe,b.test(v)){var T=b.exec(v);g=T[1],P=T[2],b=I,b.test(g)&&(v=g+s[P])}if(b=Z,O=de,b.test(v)){var T=b.exec(v);g=T[1],b=S,b.test(g)&&(v=g)}else if(O.test(v)){var T=O.exec(v);g=T[1]+T[2],O=S,O.test(g)&&(v=g)}if(b=he,b.test(v)){var T=b.exec(v);g=T[1],b=S,O=C,$=pe,(b.test(g)||O.test(g)&&!$.test(g))&&(v=g)}return b=ee,O=S,b.test(v)&&O.test(v)&&(b=B,v=v.replace(b,"")),z=="y"&&(v=z.toLowerCase()+v.substr(1)),v};return function(ue){return ue.update(J)}}(),r.Pipeline.registerFunction(r.stemmer,"stemmer");r.generateStopWordFilter=function(t){var s=t.reduce(function(o,l){return o[l]=l,o},{});return function(o){if(o&&s[o.toString()]!==o.toString())return o}},r.stopWordFilter=r.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),r.Pipeline.registerFunction(r.stopWordFilter,"stopWordFilter");r.trimmer=function(t){return t.update(function(s){return s.replace(/^\W+/,"").replace(/\W+$/,"")})},r.Pipeline.registerFunction(r.trimmer,"trimmer");r.TokenSet=function(){this.final=!1,this.edges={},this.id=r.TokenSet._nextId,r.TokenSet._nextId+=1},r.TokenSet._nextId=1,r.TokenSet.fromArray=function(t){for(var s=new r.TokenSet.Builder,o=0,l=t.length;o<l;o++)s.insert(t[o]);return s.finish(),s.root},r.TokenSet.fromClause=function(t){return"editDistance"in t?r.TokenSet.fromFuzzyString(t.term,t.editDistance):r.TokenSet.fromString(t.term)},r.TokenSet.fromFuzzyString=function(t,s){for(var o=new r.TokenSet,l=[{node:o,editsRemaining:s,str:t}];l.length;){var u=l.pop();if(u.str.length>0){var h=u.str.charAt(0),y;h in u.node.edges?y=u.node.edges[h]:(y=new r.TokenSet,u.node.edges[h]=y),u.str.length==1&&(y.final=!0),l.push({node:y,editsRemaining:u.editsRemaining,str:u.str.slice(1)})}if(u.editsRemaining!=0){if("*"in u.node.edges)var E=u.node.edges["*"];else{var E=new r.TokenSet;u.node.edges["*"]=E}if(u.str.length==0&&(E.final=!0),l.push({node:E,editsRemaining:u.editsRemaining-1,str:u.str}),u.str.length>1&&l.push({node:u.node,editsRemaining:u.editsRemaining-1,str:u.str.slice(1)}),u.str.length==1&&(u.node.final=!0),u.str.length>=1){if("*"in u.node.edges)var m=u.node.edges["*"];else{var m=new r.TokenSet;u.node.edges["*"]=m}u.str.length==1&&(m.final=!0),l.push({node:m,editsRemaining:u.editsRemaining-1,str:u.str.slice(1)})}if(u.str.length>1){var w=u.str.charAt(0),I=u.str.charAt(1),S;I in u.node.edges?S=u.node.edges[I]:(S=new r.TokenSet,u.node.edges[I]=S),u.str.length==1&&(S.final=!0),l.push({node:S,editsRemaining:u.editsRemaining-1,str:w+u.str.slice(2)})}}}return o},r.TokenSet.fromString=function(t){for(var s=new r.TokenSet,o=s,l=0,u=t.length;l<u;l++){var h=t[l],y=l==u-1;if(h=="*")s.edges[h]=s,s.final=y;else{var E=new r.TokenSet;E.final=y,s.edges[h]=E,s=E}}return o},r.TokenSet.prototype.toArray=function(){for(var t=[],s=[{prefix:"",node:this}];s.length;){var o=s.pop(),l=Object.keys(o.node.edges),u=l.length;o.node.final&&(o.prefix.charAt(0),t.push(o.prefix));for(var h=0;h<u;h++){var y=l[h];s.push({prefix:o.prefix.concat(y),node:o.node.edges[y]})}}return t},r.TokenSet.prototype.toString=function(){if(this._str)return this._str;for(var t=this.final?"1":"0",s=Object.keys(this.edges).sort(),o=s.length,l=0;l<o;l++){var u=s[l],h=this.edges[u];t=t+u+h.id}return t},r.TokenSet.prototype.intersect=function(t){for(var s=new r.TokenSet,o=void 0,l=[{qNode:t,output:s,node:this}];l.length;){o=l.pop();for(var u=Object.keys(o.qNode.edges),h=u.length,y=Object.keys(o.node.edges),E=y.length,m=0;m<h;m++)for(var w=u[m],I=0;I<E;I++){var S=y[I];if(S==w||w=="*"){var C=o.node.edges[S],k=o.qNode.edges[w],N=C.final&&k.final,L=void 0;S in o.output.edges?(L=o.output.edges[S],L.final=L.final||N):(L=new r.TokenSet,L.final=N,o.output.edges[S]=L),l.push({qNode:k,output:L,node:C})}}}return s},r.TokenSet.Builder=function(){this.previousWord="",this.root=new r.TokenSet,this.uncheckedNodes=[],this.minimizedNodes={}},r.TokenSet.Builder.prototype.insert=function(t){var s,o=0;if(t<this.previousWord)throw new Error("Out of order word insertion");for(var l=0;l<t.length&&l<this.previousWord.length&&t[l]==this.previousWord[l];l++)o++;this.minimize(o),this.uncheckedNodes.length==0?s=this.root:s=this.uncheckedNodes[this.uncheckedNodes.length-1].child;for(var l=o;l<t.length;l++){var u=new r.TokenSet,h=t[l];s.edges[h]=u,this.uncheckedNodes.push({parent:s,char:h,child:u}),s=u}s.final=!0,this.previousWord=t},r.TokenSet.Builder.prototype.finish=function(){this.minimize(0)},r.TokenSet.Builder.prototype.minimize=function(t){for(var s=this.uncheckedNodes.length-1;s>=t;s--){var o=this.uncheckedNodes[s],l=o.child.toString();l in this.minimizedNodes?o.parent.edges[o.char]=this.minimizedNodes[l]:(o.child._str=l,this.minimizedNodes[l]=o.child),this.uncheckedNodes.pop()}};r.Index=function(t){this.invertedIndex=t.invertedIndex,this.fieldVectors=t.fieldVectors,this.tokenSet=t.tokenSet,this.fields=t.fields,this.pipeline=t.pipeline},r.Index.prototype.search=function(t){return this.query(function(s){var o=new r.QueryParser(t,s);o.parse()})},r.Index.prototype.query=function(t){for(var s=new r.Query(this.fields),o=Object.create(null),l=Object.create(null),u=Object.create(null),h=Object.create(null),y=Object.create(null),E=0;E<this.fields.length;E++)l[this.fields[E]]=new r.Vector;t.call(s,s);for(var E=0;E<s.clauses.length;E++){var m=s.clauses[E],w=null,I=r.Set.empty;m.usePipeline?w=this.pipeline.runString(m.term,{fields:m.fields}):w=[m.term];for(var S=0;S<w.length;S++){var C=w[S];m.term=C;var k=r.TokenSet.fromClause(m),N=this.tokenSet.intersect(k).toArray();if(N.length===0&&m.presence===r.Query.presence.REQUIRED){for(var L=0;L<m.fields.length;L++){var R=m.fields[L];h[R]=r.Set.empty}break}for(var q=0;q<N.length;q++)for(var B=N[q],G=this.invertedIndex[B],U=G._index,L=0;L<m.fields.length;L++){var R=m.fields[L],ne=G[R],ae=Object.keys(ne),oe=B+"/"+R,fe=new r.Set(ae);if(m.presence==r.Query.presence.REQUIRED&&(I=I.union(fe),h[R]===void 0&&(h[R]=r.Set.complete)),m.presence==r.Query.presence.PROHIBITED){y[R]===void 0&&(y[R]=r.Set.empty),y[R]=y[R].union(fe);continue}if(l[R].upsert(U,m.boost,function(Pe,Se){return Pe+Se}),!u[oe]){for(var Z=0;Z<ae.length;Z++){var de=ae[Z],he=new r.FieldRef(de,R),ee=ne[de],pe;(pe=o[he])===void 0?o[he]=new r.MatchData(B,R,ee):pe.add(B,R,ee)}u[oe]=!0}}}if(m.presence===r.Query.presence.REQUIRED)for(var L=0;L<m.fields.length;L++){var R=m.fields[L];h[R]=h[R].intersect(I)}}for(var J=r.Set.complete,ue=r.Set.empty,E=0;E<this.fields.length;E++){var R=this.fields[E];h[R]&&(J=J.intersect(h[R])),y[R]&&(ue=ue.union(y[R]))}var v=Object.keys(o),g=[],P=Object.create(null);if(s.isNegated()){v=Object.keys(this.fieldVectors);for(var E=0;E<v.length;E++){var he=v[E],z=r.FieldRef.fromString(he);o[he]=new r.MatchData}}for(var E=0;E<v.length;E++){var z=r.FieldRef.fromString(v[E]),b=z.docRef;if(!!J.contains(b)&&!ue.contains(b)){var O=this.fieldVectors[z],$=l[z.fieldName].similarity(O),F;if((F=P[b])!==void 0)F.score+=$,F.matchData.combine(o[z]);else{var T={ref:b,score:$,matchData:o[z]};P[b]=T,g.push(T)}}}return g.sort(function(K,ie){return ie.score-K.score})},r.Index.prototype.toJSON=function(){var t=Object.keys(this.invertedIndex).sort().map(function(o){return[o,this.invertedIndex[o]]},this),s=Object.keys(this.fieldVectors).map(function(o){return[o,this.fieldVectors[o].toJSON()]},this);return{version:r.version,fields:this.fields,fieldVectors:s,invertedIndex:t,pipeline:this.pipeline.toJSON()}},r.Index.load=function(t){var s={},o={},l=t.fieldVectors,u=Object.create(null),h=t.invertedIndex,y=new r.TokenSet.Builder,E=r.Pipeline.load(t.pipeline);t.version!=r.version&&r.utils.warn("Version mismatch when loading serialised index. Current version of lunr '"+r.version+"' does not match serialized index '"+t.version+"'");for(var m=0;m<l.length;m++){var w=l[m],I=w[0],S=w[1];o[I]=new r.Vector(S)}for(var m=0;m<h.length;m++){var w=h[m],C=w[0],k=w[1];y.insert(C),u[C]=k}return y.finish(),s.fields=t.fields,s.fieldVectors=o,s.invertedIndex=u,s.tokenSet=y.root,s.pipeline=E,new r.Index(s)};r.Builder=function(){this._ref="id",this._fields=Object.create(null),this._documents=Object.create(null),this.invertedIndex=Object.create(null),this.fieldTermFrequencies={},this.fieldLengths={},this.tokenizer=r.tokenizer,this.pipeline=new r.Pipeline,this.searchPipeline=new r.Pipeline,this.documentCount=0,this._b=.75,this._k1=1.2,this.termIndex=0,this.metadataWhitelist=[]},r.Builder.prototype.ref=function(t){this._ref=t},r.Builder.prototype.field=function(t,s){if(/\//.test(t))throw new RangeError("Field '"+t+"' contains illegal character '/'");this._fields[t]=s||{}},r.Builder.prototype.b=function(t){t<0?this._b=0:t>1?this._b=1:this._b=t},r.Builder.prototype.k1=function(t){this._k1=t},r.Builder.prototype.add=function(t,s){var o=t[this._ref],l=Object.keys(this._fields);this._documents[o]=s||{},this.documentCount+=1;for(var u=0;u<l.length;u++){var h=l[u],y=this._fields[h].extractor,E=y?y(t):t[h],m=this.tokenizer(E,{fields:[h]}),w=this.pipeline.run(m),I=new r.FieldRef(o,h),S=Object.create(null);this.fieldTermFrequencies[I]=S,this.fieldLengths[I]=0,this.fieldLengths[I]+=w.length;for(var C=0;C<w.length;C++){var k=w[C];if(S[k]==null&&(S[k]=0),S[k]+=1,this.invertedIndex[k]==null){var N=Object.create(null);N._index=this.termIndex,this.termIndex+=1;for(var L=0;L<l.length;L++)N[l[L]]=Object.create(null);this.invertedIndex[k]=N}this.invertedIndex[k][h][o]==null&&(this.invertedIndex[k][h][o]=Object.create(null));for(var R=0;R<this.metadataWhitelist.length;R++){var q=this.metadataWhitelist[R],B=k.metadata[q];this.invertedIndex[k][h][o][q]==null&&(this.invertedIndex[k][h][o][q]=[]),this.invertedIndex[k][h][o][q].push(B)}}}},r.Builder.prototype.calculateAverageFieldLengths=function(){for(var t=Object.keys(this.fieldLengths),s=t.length,o={},l={},u=0;u<s;u++){var h=r.FieldRef.fromString(t[u]),y=h.fieldName;l[y]||(l[y]=0),l[y]+=1,o[y]||(o[y]=0),o[y]+=this.fieldLengths[h]}for(var E=Object.keys(this._fields),u=0;u<E.length;u++){var m=E[u];o[m]=o[m]/l[m]}this.averageFieldLength=o},r.Builder.prototype.createFieldVectors=function(){for(var t={},s=Object.keys(this.fieldTermFrequencies),o=s.length,l=Object.create(null),u=0;u<o;u++){for(var h=r.FieldRef.fromString(s[u]),y=h.fieldName,E=this.fieldLengths[h],m=new r.Vector,w=this.fieldTermFrequencies[h],I=Object.keys(w),S=I.length,C=this._fields[y].boost||1,k=this._documents[h.docRef].boost||1,N=0;N<S;N++){var L=I[N],R=w[L],q=this.invertedIndex[L]._index,B,G,U;l[L]===void 0?(B=r.idf(this.invertedIndex[L],this.documentCount),l[L]=B):B=l[L],G=B*((this._k1+1)*R)/(this._k1*(1-this._b+this._b*(E/this.averageFieldLength[y]))+R),G*=C,G*=k,U=Math.round(G*1e3)/1e3,m.insert(q,U)}t[h]=m}this.fieldVectors=t},r.Builder.prototype.createTokenSet=function(){this.tokenSet=r.TokenSet.fromArray(Object.keys(this.invertedIndex).sort())},r.Builder.prototype.build=function(){return this.calculateAverageFieldLengths(),this.createFieldVectors(),this.createTokenSet(),new r.Index({invertedIndex:this.invertedIndex,fieldVectors:this.fieldVectors,tokenSet:this.tokenSet,fields:Object.keys(this._fields),pipeline:this.searchPipeline})},r.Builder.prototype.use=function(t){var s=Array.prototype.slice.call(arguments,1);s.unshift(this),t.apply(this,s)},r.MatchData=function(t,s,o){for(var l=Object.create(null),u=Object.keys(o||{}),h=0;h<u.length;h++){var y=u[h];l[y]=o[y].slice()}this.metadata=Object.create(null),t!==void 0&&(this.metadata[t]=Object.create(null),this.metadata[t][s]=l)},r.MatchData.prototype.combine=function(t){for(var s=Object.keys(t.metadata),o=0;o<s.length;o++){var l=s[o],u=Object.keys(t.metadata[l]);this.metadata[l]==null&&(this.metadata[l]=Object.create(null));for(var h=0;h<u.length;h++){var y=u[h],E=Object.keys(t.metadata[l][y]);this.metadata[l][y]==null&&(this.metadata[l][y]=Object.create(null));for(var m=0;m<E.length;m++){var w=E[m];this.metadata[l][y][w]==null?this.metadata[l][y][w]=t.metadata[l][y][w]:this.metadata[l][y][w]=this.metadata[l][y][w].concat(t.metadata[l][y][w])}}}},r.MatchData.prototype.add=function(t,s,o){if(!(t in this.metadata)){this.metadata[t]=Object.create(null),this.metadata[t][s]=o;return}if(!(s in this.metadata[t])){this.metadata[t][s]=o;return}for(var l=Object.keys(o),u=0;u<l.length;u++){var h=l[u];h in this.metadata[t][s]?this.metadata[t][s][h]=this.metadata[t][s][h].concat(o[h]):this.metadata[t][s][h]=o[h]}},r.Query=function(t){this.clauses=[],this.allFields=t},r.Query.wildcard=new String("*"),r.Query.wildcard.NONE=0,r.Query.wildcard.LEADING=1,r.Query.wildcard.TRAILING=2,r.Query.presence={OPTIONAL:1,REQUIRED:2,PROHIBITED:3},r.Query.prototype.clause=function(t){return"fields"in t||(t.fields=this.allFields),"boost"in t||(t.boost=1),"usePipeline"in t||(t.usePipeline=!0),"wildcard"in t||(t.wildcard=r.Query.wildcard.NONE),t.wildcard&r.Query.wildcard.LEADING&&t.term.charAt(0)!=r.Query.wildcard&&(t.term="*"+t.term),t.wildcard&r.Query.wildcard.TRAILING&&t.term.slice(-1)!=r.Query.wildcard&&(t.term=""+t.term+"*"),"presence"in t||(t.presence=r.Query.presence.OPTIONAL),this.clauses.push(t),this},r.Query.prototype.isNegated=function(){for(var t=0;t<this.clauses.length;t++)if(this.clauses[t].presence!=r.Query.presence.PROHIBITED)return!1;return!0},r.Query.prototype.term=function(t,s){if(Array.isArray(t))return t.forEach(function(l){this.term(l,r.utils.clone(s))},this),this;var o=s||{};return o.term=t.toString(),this.clause(o),this},r.QueryParseError=function(t,s,o){this.name="QueryParseError",this.message=t,this.start=s,this.end=o},r.QueryParseError.prototype=new Error,r.QueryLexer=function(t){this.lexemes=[],this.str=t,this.length=t.length,this.pos=0,this.start=0,this.escapeCharPositions=[]},r.QueryLexer.prototype.run=function(){for(var t=r.QueryLexer.lexText;t;)t=t(this)},r.QueryLexer.prototype.sliceString=function(){for(var t=[],s=this.start,o=this.pos,l=0;l<this.escapeCharPositions.length;l++)o=this.escapeCharPositions[l],t.push(this.str.slice(s,o)),s=o+1;return t.push(this.str.slice(s,this.pos)),this.escapeCharPositions.length=0,t.join("")},r.QueryLexer.prototype.emit=function(t){this.lexemes.push({type:t,str:this.sliceString(),start:this.start,end:this.pos}),this.start=this.pos},r.QueryLexer.prototype.escapeCharacter=function(){this.escapeCharPositions.push(this.pos-1),this.pos+=1},r.QueryLexer.prototype.next=function(){if(this.pos>=this.length)return r.QueryLexer.EOS;var t=this.str.charAt(this.pos);return this.pos+=1,t},r.QueryLexer.prototype.width=function(){return this.pos-this.start},r.QueryLexer.prototype.ignore=function(){this.start==this.pos&&(this.pos+=1),this.start=this.pos},r.QueryLexer.prototype.backup=function(){this.pos-=1},r.QueryLexer.prototype.acceptDigitRun=function(){var t,s;do t=this.next(),s=t.charCodeAt(0);while(s>47&&s<58);t!=r.QueryLexer.EOS&&this.backup()},r.QueryLexer.prototype.more=function(){return this.pos<this.length},r.QueryLexer.EOS="EOS",r.QueryLexer.FIELD="FIELD",r.QueryLexer.TERM="TERM",r.QueryLexer.EDIT_DISTANCE="EDIT_DISTANCE",r.QueryLexer.BOOST="BOOST",r.QueryLexer.PRESENCE="PRESENCE",r.QueryLexer.lexField=function(t){return t.backup(),t.emit(r.QueryLexer.FIELD),t.ignore(),r.QueryLexer.lexText},r.QueryLexer.lexTerm=function(t){if(t.width()>1&&(t.backup(),t.emit(r.QueryLexer.TERM)),t.ignore(),t.more())return r.QueryLexer.lexText},r.QueryLexer.lexEditDistance=function(t){return t.ignore(),t.acceptDigitRun(),t.emit(r.QueryLexer.EDIT_DISTANCE),r.QueryLexer.lexText},r.QueryLexer.lexBoost=function(t){return t.ignore(),t.acceptDigitRun(),t.emit(r.QueryLexer.BOOST),r.QueryLexer.lexText},r.QueryLexer.lexEOS=function(t){t.width()>0&&t.emit(r.QueryLexer.TERM)},r.QueryLexer.termSeparator=r.tokenizer.separator,r.QueryLexer.lexText=function(t){for(;;){var s=t.next();if(s==r.QueryLexer.EOS)return r.QueryLexer.lexEOS;if(s.charCodeAt(0)==92){t.escapeCharacter();continue}if(s==":")return r.QueryLexer.lexField;if(s=="~")return t.backup(),t.width()>0&&t.emit(r.QueryLexer.TERM),r.QueryLexer.lexEditDistance;if(s=="^")return t.backup(),t.width()>0&&t.emit(r.QueryLexer.TERM),r.QueryLexer.lexBoost;if(s=="+"&&t.width()===1||s=="-"&&t.width()===1)return t.emit(r.QueryLexer.PRESENCE),r.QueryLexer.lexText;if(s.match(r.QueryLexer.termSeparator))return r.QueryLexer.lexTerm}},r.QueryParser=function(t,s){this.lexer=new r.QueryLexer(t),this.query=s,this.currentClause={},this.lexemeIdx=0},r.QueryParser.prototype.parse=function(){this.lexer.run(),this.lexemes=this.lexer.lexemes;for(var t=r.QueryParser.parseClause;t;)t=t(this);return this.query},r.QueryParser.prototype.peekLexeme=function(){return this.lexemes[this.lexemeIdx]},r.QueryParser.prototype.consumeLexeme=function(){var t=this.peekLexeme();return this.lexemeIdx+=1,t},r.QueryParser.prototype.nextClause=function(){var t=this.currentClause;this.query.clause(t),this.currentClause={}},r.QueryParser.parseClause=function(t){var s=t.peekLexeme();if(s!=null)switch(s.type){case r.QueryLexer.PRESENCE:return r.QueryParser.parsePresence;case r.QueryLexer.FIELD:return r.QueryParser.parseField;case r.QueryLexer.TERM:return r.QueryParser.parseTerm;default:var o="expected either a field or a term, found "+s.type;throw s.str.length>=1&&(o+=" with value '"+s.str+"'"),new r.QueryParseError(o,s.start,s.end)}},r.QueryParser.parsePresence=function(t){var s=t.consumeLexeme();if(s!=null){switch(s.str){case"-":t.currentClause.presence=r.Query.presence.PROHIBITED;break;case"+":t.currentClause.presence=r.Query.presence.REQUIRED;break;default:var o="unrecognised presence operator'"+s.str+"'";throw new r.QueryParseError(o,s.start,s.end)}var l=t.peekLexeme();if(l==null){var o="expecting term or field, found nothing";throw new r.QueryParseError(o,s.start,s.end)}switch(l.type){case r.QueryLexer.FIELD:return r.QueryParser.parseField;case r.QueryLexer.TERM:return r.QueryParser.parseTerm;default:var o="expecting term or field, found '"+l.type+"'";throw new r.QueryParseError(o,l.start,l.end)}}},r.QueryParser.parseField=function(t){var s=t.consumeLexeme();if(s!=null){if(t.query.allFields.indexOf(s.str)==-1){var o=t.query.allFields.map(function(h){return"'"+h+"'"}).join(", "),l="unrecognised field '"+s.str+"', possible fields: "+o;throw new r.QueryParseError(l,s.start,s.end)}t.currentClause.fields=[s.str];var u=t.peekLexeme();if(u==null){var l="expecting term, found nothing";throw new r.QueryParseError(l,s.start,s.end)}switch(u.type){case r.QueryLexer.TERM:return r.QueryParser.parseTerm;default:var l="expecting term, found '"+u.type+"'";throw new r.QueryParseError(l,u.start,u.end)}}},r.QueryParser.parseTerm=function(t){var s=t.consumeLexeme();if(s!=null){t.currentClause.term=s.str.toLowerCase(),s.str.indexOf("*")!=-1&&(t.currentClause.usePipeline=!1);var o=t.peekLexeme();if(o==null){t.nextClause();return}switch(o.type){case r.QueryLexer.TERM:return t.nextClause(),r.QueryParser.parseTerm;case r.QueryLexer.FIELD:return t.nextClause(),r.QueryParser.parseField;case r.QueryLexer.EDIT_DISTANCE:return r.QueryParser.parseEditDistance;case r.QueryLexer.BOOST:return r.QueryParser.parseBoost;case r.QueryLexer.PRESENCE:return t.nextClause(),r.QueryParser.parsePresence;default:var l="Unexpected lexeme type '"+o.type+"'";throw new r.QueryParseError(l,o.start,o.end)}}},r.QueryParser.parseEditDistance=function(t){var s=t.consumeLexeme();if(s!=null){var o=parseInt(s.str,10);if(isNaN(o)){var l="edit distance must be numeric";throw new r.QueryParseError(l,s.start,s.end)}t.currentClause.editDistance=o;var u=t.peekLexeme();if(u==null){t.nextClause();return}switch(u.type){case r.QueryLexer.TERM:return t.nextClause(),r.QueryParser.parseTerm;case r.QueryLexer.FIELD:return t.nextClause(),r.QueryParser.parseField;case r.QueryLexer.EDIT_DISTANCE:return r.QueryParser.parseEditDistance;case r.QueryLexer.BOOST:return r.QueryParser.parseBoost;case r.QueryLexer.PRESENCE:return t.nextClause(),r.QueryParser.parsePresence;default:var l="Unexpected lexeme type '"+u.type+"'";throw new r.QueryParseError(l,u.start,u.end)}}},r.QueryParser.parseBoost=function(t){var s=t.consumeLexeme();if(s!=null){var o=parseInt(s.str,10);if(isNaN(o)){var l="boost must be numeric";throw new r.QueryParseError(l,s.start,s.end)}t.currentClause.boost=o;var u=t.peekLexeme();if(u==null){t.nextClause();return}switch(u.type){case r.QueryLexer.TERM:return t.nextClause(),r.QueryParser.parseTerm;case r.QueryLexer.FIELD:return t.nextClause(),r.QueryParser.parseField;case r.QueryLexer.EDIT_DISTANCE:return r.QueryParser.parseEditDistance;case r.QueryLexer.BOOST:return r.QueryParser.parseBoost;case r.QueryLexer.PRESENCE:return t.nextClause(),r.QueryParser.parsePresence;default:var l="Unexpected lexeme type '"+u.type+"'";throw new r.QueryParseError(l,u.start,u.end)}}},function(t,s){typeof define=="function"&&define.amd?define(s):typeof st=="object"?at.exports=s():t.lunr=s()}(this,function(){return r})})()});var It=He(nt()),Qt=He(it()),lt=He(ot());var Ct=({strings:r=["Put your strings here...","and Enjoy!"],typeSpeed:t=100,backSpeed:s=50,backDelay:o=500,startDelay:l=500,cursorChar:u="|",placeholder:h=!1,showCursor:y=!0,disableBackTyping:E=!1,onFinished:m=function(){},loop:w=!0})=>({strings:r,typeSpeed:t,backSpeed:s,cursorChar:u,backDelay:o,placeholder:h,startDelay:l,showCursor:y,loop:w,disableBackTyping:E,onFinished:m}),ut=(r,t)=>{let s=0,o,l,u=(S,C)=>{s===o&&C.loop&&(s=0),setTimeout(()=>{h(S[s],C)},C.startDelay)},h=(S,C)=>{let k=0,N=S.length,L=setInterval(()=>{if(C.placeholder?r.placeholder+=S[k]:r.textContent+=S[k],++k===N)return y(L,C)},C.typeSpeed)},y=(S,C)=>{if(clearInterval(S),C.disableBackTyping&&s===o-1||!C.loop&&s===o-1)return C.onFinished();setTimeout(()=>E(C),C.backDelay)},E=S=>{let C=S.placeholder?r.placeholder:r.textContent,k=C.length,N=setInterval(()=>{if(S.placeholder?r.placeholder=r.placeholder.substr(0,--k):r.textContent=C.substr(0,--k),k===0)return m(N,S)},S.backSpeed)},m=(S,C)=>{clearInterval(S),++s,u(l,C)},w=(S,C)=>{let k=document.createElement("span");k.classList.add("ityped-cursor"),k.textContent="|",k.textContent=C.cursorChar,S.insertAdjacentElement("afterend",k)};return(S=>{let C=Ct(S||{}),k=C.strings;l=k,o=k.length,typeof r=="string"&&(r=document.querySelector(r)),C.showCursor&&w(r,C),u(k,C)})(t)};"use strict";window.lunr=lt.default;var Pt=document.querySelector("#roles-played"),ct=document.getElementsByClassName("roles-array"),ft=[];for(let r=0;r<ct.length;r++)ft.push(ct[r].innerText);ut(Pt,{showCursor:!1,strings:ft});
/*!
 * lunr.Builder
 * Copyright (C) 2020 Oliver Nightingale
 */
/*!
 * lunr.Index
 * Copyright (C) 2020 Oliver Nightingale
 */
/*!
 * lunr.Pipeline
 * Copyright (C) 2020 Oliver Nightingale
 */
/*!
 * lunr.Set
 * Copyright (C) 2020 Oliver Nightingale
 */
/*!
 * lunr.TokenSet
 * Copyright (C) 2020 Oliver Nightingale
 */
/*!
 * lunr.Vector
 * Copyright (C) 2020 Oliver Nightingale
 */
/*!
 * lunr.stemmer
 * Copyright (C) 2020 Oliver Nightingale
 * Includes code from - http://tartarus.org/~martin/PorterStemmer/js.txt
 */
/*!
 * lunr.stopWordFilter
 * Copyright (C) 2020 Oliver Nightingale
 */
/*!
 * lunr.tokenizer
 * Copyright (C) 2020 Oliver Nightingale
 */
/*!
 * lunr.trimmer
 * Copyright (C) 2020 Oliver Nightingale
 */
/*!
 * lunr.utils
 * Copyright (C) 2020 Oliver Nightingale
 */
/**
 * lunr - http://lunrjs.com - A bit like Solr, but much smaller and not as bright - 2.3.9
 * Copyright (C) 2020 Oliver Nightingale
 * @license MIT
 */

;
var r=Object.assign;var u={keyboardNavigation:!1,isModalOpen:!1,closeModals:function(){this.search.close(),this.lightbox.close(),this.code.close()}},m={options:{LIGHT:"light",DARK:"dark"},applyTheme:function(e){let t=e===this.options.DARK,s=t?"\u{1F319} Setting dark mode":"\u{1F31E} Setting light mode";console.log(s),document.getElementById("theme-switcher-indicator").checked=!t;let n=e,o=t?this.options.LIGHT:this.options.DARK;document.body.classList.add(n),document.body.classList.remove(o)},saveSetting:function(e){window.localStorage.setItem("theme",e)},removeSetting:function(){window.localStorage.removeItem("theme")},readSavedSetting:function(){return window.localStorage.getItem("theme")},toggleChanged:function(e){let t=e.checked?this.options.LIGHT:this.options.DARK;this.saveSetting(t),this.applyTheme(t)},listenForExternalChange:function(){try{let e=window.matchMedia("(prefers-color-scheme: dark)");if(!e.addEventListener)return;e.addEventListener("change",t=>{this.removeSetting();let n=!t.matches?this.options.LIGHT:this.options.DARK;console.log(`\u{1F317} Theme changed in Operating System to ${n} mode`),this.applyTheme(n)}),window.addEventListener("storage",()=>{let t=this.readSavedSetting();t!==this.options.DARK&&(t=this.options.LIGHT),this.applyTheme(t)})}catch(e){console.warn("Not listening to theme change events",e)}},onLoad:function(){let e=this.readSavedSetting(),s=window.matchMedia("(prefers-color-scheme: dark)").matches?this.options.DARK:this.options.LIGHT,o=(e===this.options.DARK||e===this.options.LIGHT)&&e!==s?e:s;this.applyTheme(o),this.listenForExternalChange(),setTimeout(()=>{document.body.classList.add("js-loaded")},0)}},p={isOpen:!1,cancelShowImage:!1,openImage:!1,showLoading:!1,close:function(){this.openImage=!1,this.isOpen=!1,blog.isModalOpen=!1},cancel:function(){this.cancelShowImage=!0,this.close()},open:function(e,t){this.openImage=!1,this.showLoading=!1,this.cancelShowImage=!1;let s=e.currentTarget.querySelector("img"),n=e.currentTarget.href,o=e.currentTarget.offsetTop+s.clientHeight/2-window.pageYOffset,a=s.offsetLeft+s.clientWidth/2;t.lightbox.style.cssText=`transform-origin: ${a}px ${o}px`,this.isOpen=!0;let i=t.lightbox.querySelector("img");if(!i||i.getAttribute("src")!==n){i&&i.remove(),setTimeout(()=>{t.lightbox.querySelectorAll("img").length===0&&(this.showLoading=!0)},300);let l=new Image;l.onload=()=>{this.cancelShowImage||(this.showLoading=!1,t.lightbox.append(l),this.openImage=!0)},l.src=n}else this.openImage=!0;blog.isModalOpen=!0}},w={isOpen:!1,textInSearchBox:"",index:null,store:null,indexLoadFailed:!1,indexLoading:!1,hits:[],getHitsText:function(){return`Search phrase matching ${this.hits.length} pages`},open:function(){blog.isModalOpen=!0,this.isOpen=!0,this.textInSearchBox="",this.indexLoadFailed=!1,this.downloadIndex()},close:function(){this.isOpen=!1,blog.isModalOpen=!1},downloadIndex:function(){this.index||(this.indexLoading=!0,this.fetchIndex().then(({index:e,store:t})=>{this.index=window.lunr.Index.load(e),this.store=t,this.indexLoading=!1,this.searchBoxChanged(this.textInSearchBox),console.log("\u{1F50D} Search index downloaded")}))},fetchIndex:function(){return fetch("/search-index.json").then(this.handleFetchResponse).catch(this.handleFetchResponse)},handleFetchResponse:function(e){return this.indexLoadFailed=!e.ok,e.ok&&e.json?e.json():this.index},searchBoxChanged:function(e){let t=(e||"").trim();t.length<2&&t!=="*"||this.find(t)},find:function(e){this.hits=this.index.search(e)},fromStore:function(e){return this.store[e.ref]||{}},focusFirstAnchor:function(e,t){try{t.querySelector("a").focus(),e.preventDefault()}catch(s){}}},I={states:{CLOSED:"closed",CLOSING:"closing",OPEN:"open",OPENING:"opening"},state:"closed",isOpen:function(){return this.state===this.states.OPEN},isOpening:function(){return this.state===this.states.OPENING},isClosing:function(){return this.state===this.states.CLOSING},isClosed:function(){return this.state===this.states.CLOSED},hamburgerIsOpen:function(){return this.isOpen()||this.isOpening()},close:function(){this.state===this.states.CLOSED||this.state===this.states.CLOSING||(this.state=this.states.CLOSING,setTimeout(()=>{this.state=this.states.CLOSED},300))},open:function(){this.state===this.states.OPEN||this.state===this.states.OPENING||(this.state=this.states.OPENING,setTimeout(()=>{this.state=this.states.OPEN},300))},toggle:function(){this.isOpen()?this.close():this.isClosed()&&this.open()}},O={skipToContent:function(e){e.setAttribute("tabindex","-1"),e.focus()},removeContentTabIndex:function(e){e.removeAttribute("tabindex")}},x={isOpening:!1,isVisible:!1,close:function(){this.isVisible&&(this.isOpening=!1,blog.isModalOpen=!1,this.isVisible=!1)},open:function(e){this.isVisible=!1;let t=e.target.closest(".code-expandable").querySelector(".code"),s=t.offsetTop+t.clientHeight/2-window.pageYOffset,n=t.offsetLeft+t.clientWidth/2,o=t.cloneNode(!0);blog.isModalOpen=!0,this.isOpening=!0;let a=document.getElementById("code-placeholder");a.innerHTML="",a.appendChild(o),a.querySelector("code").focus();let i=document.getElementById("code-container-inner");i.style.cssText=`transform-origin: ${n}px ${s}px`,setTimeout(()=>{this.isVisible=!0},500)}};window.blog=r(r({},u),{theme:m,lightbox:p,search:w,menu:I,skipLink:O,code:x});window.blog.theme.onLoad();document.addEventListener("DOMContentLoaded",function(){try{if(!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)){let s=`padding:200px 0 0 0;text-align:bottom;font-size: 1.5rem;background:url(${window.location.origin+"/images/you-are-the-best.png"}) no-repeat left top;background-size:200px`;console.log("%c So, you're reading the console messages - how geeky! \u{1F913}",s)}}catch(e){}});window.onscroll=function(e){f()};var h=document.getElementById("navbar"),S=h.offsetTop,c=document.getElementById("toTop"),g=document.getElementById("clouder");window.onload=function(){c=document.getElementById("toTop"),g=document.getElementById("clouder"),f(),g&&main.init()};function f(){window.pageYOffset>=S+5?h.classList.add("navbar-shrink"):h.classList.remove("navbar-shrink"),c!==null&&(document.body.scrollTop>20||document.documentElement.scrollTop>20?c.style.display="block":c.style.display="none")}var d=document.links;for(let e=0,t=d.length;e<t;e++)d[e].hostname!==window.location.hostname&&(d[e].target="_blank");
